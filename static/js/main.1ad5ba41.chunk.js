(this.webpackJsonptask3=this.webpackJsonptask3||[]).push([[0],{142:function(e,t,a){e.exports={right:"RightArea_right__1z_f9"}},144:function(e,t,a){e.exports={sort:"SortTask_sort__TFX06",sel:"SortTask_sel__1zZMp"}},145:function(e,t,a){e.exports={task:"Task_task__29OJs",a:"Task_a__3gR31"}},220:function(e,t,a){e.exports={left:"LeftArea_left__25aBY"}},222:function(e,t,a){e.exports=a(415)},224:function(e,t,a){},415:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=(a(224),a(94)),s=a.n(c),l=a(13),o=a(14),i=a(16),u=a(15),d=a(142),m=a.n(d),h=a(96),p=a.n(h),b=a(6),E=a(10),f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={time:e.props.time,title:e.props.title,parrent:e.props.parrent},e.handleClick=function(t){window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0435\u043b\u043e ".concat(e.state.title,"?"))&&e.props.deleteSub(e.state.time,e.state.parrent)},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"btn btn-danger ".concat(p.a.x)},"x")}}]),a}(n.Component),g=Object(b.b)(null,(function(e){return{deleteSub:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirestore)();console.log(a),r.collection("subtask").doc(a).delete().then((function(){e({type:"DELETE_SUBTASK"})})).catch((function(t){e({type:"DELETE_SUBTASK_ERROR",err:t})}))}));var a}}}))(f),_=a(70),k=a.n(_),O=function(e){var t=e.subtask,a=(e.key,t.date.seconds),n=new Date(1e3*a),c=n.getDate()+"."+n.getMonth()+"."+n.getFullYear()+" "+n.getHours()+":"+n.getMinutes();return r.a.createElement("div",{className:k.a.subtask},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("div",{className:k.a.content},r.a.createElement("input",{type:"checkbox",className:k.a.check,disabled:"disabled",defaultChecked:t.urgently}),r.a.createElement("span",null,t.title),r.a.createElement("span",{className:k.a.date},c),r.a.createElement(g,{title:t.title})))},v=a(30),S=a(42),j=a.n(S),R=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:"",urgently:!1,done:!1,parrent:e.props.parrent},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createSubtask(e.state)},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit,className:j.a.add},r.a.createElement("input",{className:j.a.text,id:"title",onChange:this.handleChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0414\u0435\u043b\u0430"}),r.a.createElement("input",{type:"checkbox",id:"urgently",className:j.a.checkbox,onChange:this.handleChange}),"\u0421\u0440\u043e\u0447\u043d\u043e\u0435",r.a.createElement("button",{value:"",className:"btn btn-success"},"ButAdd"))}}]),a}(n.Component),y=Object(b.b)(null,(function(e){return{createSubtask:function(t){return e(function(e){return function(t,a,n){(0,n.getFirestore)().collection("subtask").add(Object(E.a)(Object(E.a)({},e),{},{date:new Date})).then((function(){t({type:"CREATE_SUBTASK",subtask:e})})).catch((function(e){t({type:"CREATE_SUBTASK_ERROR",err:e})}))}}(t))}}}))(R),C=a(34),N=a(22),T=Object(N.d)(Object(b.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.tasks,r=e.firestore.data.subtask;return{task:n?n[a]:null,parrent:a,sub:r}})),Object(C.firestoreConnect)([{collection:"tasks"},{collection:"subtask"}]))((function(e){var t=e.task,a=e.parrent,n=e.sub,c=Object.keys(n),s=0;return t?r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:m.a.right},r.a.createElement("h3",{className:m.a.h3},t.title),n&&Object.values(n).map((function(e){if(e.parrent===a)return r.a.createElement(O,{subtask:e,key:c[s++]})})),r.a.createElement(y,{parrent:a}))):r.a.createElement("div",null,r.a.createElement("p",null,"Loading project..."),r.a.createElement(y,{parrent:a}))})),A=a(220),w=a.n(A),x=a(144),L=a.n(x);var U=function(){return r.a.createElement("form",{className:L.a.sort},r.a.createElement("select",{className:L.a.sel},r.a.createElement("option",{defaultValue:"\u041d\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"},"\u041d\u0435\u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"),r.a.createElement("option",{value:"\u0418\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"},"\u0418\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"),r.a.createElement("option",{value:"\u0412\u0441\u0435"},"\u0412\u0441\u0435")))},F=a(145),I=a.n(F),D=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={id:e.props.id,title:e.props.task},e.handleClick=function(t){window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b ".concat(e.state.title,"?"))&&e.props.deleteTask(e.state.id)},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"btn btn-danger ".concat(p.a.x)},"x")}}]),a}(n.Component),K=Object(b.b)(null,(function(e){return{deleteTask:function(t){return e(function(e){return function(t,a,n){var r=(0,n.getFirestore)();console.log(e),r.collection("tasks").doc(e).delete().then((function(){t({type:"DELETE_TASK"})})).catch((function(e){t({type:"DELETE_TASK_ERROR",err:e})}))}}(t))}}}))(D),B=a(12),G=function(e){return r.a.createElement("div",{className:I.a.task,id:"task"},r.a.createElement(B.b,{to:"/".concat(e.task.id),className:I.a.a},e.task.title),r.a.createElement(K,{id:e.task.id,task:e.task.title}))},P=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:""},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createTask(e.state)},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit,className:j.a.add},r.a.createElement("input",{onChange:this.handleChange,className:j.a.text,id:"title",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0421\u043f\u0438\u0441\u043a\u0430"}),r.a.createElement("button",{value:"",className:"btn btn-success"},"ButAdd"))}}]),a}(n.Component),M=Object(b.b)(null,(function(e){return{createTask:function(t){return e(function(e){return function(t,a,n){var r=(0,n.getFirestore)(),c=a().firebase.auth.uid;r.collection("tasks").add(Object(E.a)(Object(E.a)({},e),{},{uid:c,done:"none"})).then((function(){t({type:"CREATE_TASK",task:e})})).catch((function(e){t({type:"CREATE_TASK_ERROR",err:e})}))}}(t))}}}))(P),z=function(e){var t=e.tasks,a=e.uid;return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:w.a.left},r.a.createElement(U,null),t&&t.map((function(e){if(a===e.uid)return r.a.createElement(G,{task:e,key:e.id})})),r.a.createElement(M,null)))},Y=a(7),J=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.tasks;return t.uid?r.a.createElement("div",{className:"row"},r.a.createElement(z,{tasks:a,uid:t.uid}),r.a.createElement(Y.b,{subtask:this.props,path:"/:id",component:T})):r.a.createElement(Y.a,{to:"/login"})}}]),a}(n.Component),W=Object(N.d)(Object(b.b)((function(e){return{tasks:e.firestore.ordered.tasks,subtask:e.firestore.ordered.subtask,auth:e.firebase.auth}})),Object(C.firestoreConnect)([{collection:"tasks"},{collection:"subtask",orderBy:["date","asc"]}]))(J),H=a(44),Z=a.n(H),V=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.login(e.state)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(Y.a,{to:"/"}):r.a.createElement("form",{onSubmit:this.handleSubmit,className:"".concat(Z.a.login," + col-3")},r.a.createElement("h3",{className:Z.a.h3},"\u0412\u0445\u043e\u0434"),r.a.createElement("input",{onChange:this.handleChange,id:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",className:Z.a.input}),r.a.createElement("input",{onChange:this.handleChange,id:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",className:Z.a.input}),r.a.createElement("div",null,r.a.createElement(B.b,{to:"/Registr",className:Z.a.a},"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?")),r.a.createElement("button",{className:"btn btn-primary"},"Login"),r.a.createElement("div",{className:Z.a.red},t?r.a.createElement("p",null,t):null))}}]),a}(n.Component),X=Object(b.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{login:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(V),q=a(57),Q=a.n(q),$=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.registr(e.state)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement(Y.a,{to:"/"}):r.a.createElement("form",{onSubmit:this.handleSubmit,className:"".concat(Q.a.login," + col-3")},r.a.createElement("h3",{className:Q.a.h3},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("input",{onChange:this.handleChange,id:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",className:Q.a.input}),r.a.createElement("input",{onChange:this.handleChange,id:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",className:Q.a.input}),r.a.createElement("button",{className:"btn btn-primary"},"SignUp"),r.a.createElement("div",{className:Q.a.red},a?r.a.createElement("p",null,a):null))}}]),a}(n.Component),ee=Object(b.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{registr:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().auth().createUserWithEmailAndPassword(e.email,e.password).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))($),te=Object(b.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return r.a.createElement("button",{onClick:e.signOut,className:"btn btn-link nav-item nav-link"},"Log Out")})),ae=function(){return r.a.createElement("div",null,r.a.createElement(B.b,{to:"/Registr",className:" nav-link"},"Signup"),r.a.createElement(B.b,{to:"/login",className:" nav-link"},"Login"))},ne=Object(b.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.auth,a=t.uid?r.a.createElement(te,null):r.a.createElement(ae,{className:"navbar-nav"});return r.a.createElement("nav",{className:"navbar navbar-expand-lg  navbar-dark bg-dark"},r.a.createElement("span",{className:"email"},t.email),a)})),re=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ne,null),r.a.createElement(Y.d,null,r.a.createElement(Y.b,{path:"/login",render:function(){return r.a.createElement(X,null)}}),r.a.createElement(Y.b,{path:"/",render:function(){return r.a.createElement(W,null)}}),r.a.createElement(Y.b,{path:"/Registr",render:function(){return r.a.createElement(ee,null)}})))},ce={authError:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(E.a)(Object(E.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return console.log("s s"),Object(E.a)(Object(E.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("s e"),Object(E.a)(Object(E.a)({},e),{},{authError:t.err.message});default:return e}},le={},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TASK":return alert("\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b ".concat(t.task.title," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d")),e;case"CREATE_TASK_ERROR":return alert("ERROR ".concat(t.err)),e;case"DELETE_TASK":return e;case"DELETE_TASK_ERROR":return alert("ERROR ".concat(t.err)),e;default:return e}},ie={},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_SUBTASK":return console.log("sdad",t.task),e;case"CREATE_SUBTASK_ERROR":return console.log("ERROR",t.err),e;case"DELETE_SUBTASK":case"DELETE_SUBTASK_ERROR":default:return e}},de=a(55),me=Object(N.c)({auth:se,task:oe,subtask:ue,firestore:de.firestoreReducer,firebase:C.firebaseReducer}),he=a(221),pe=a(56);a(411),a(413);pe.a.initializeApp({apiKey:"AIzaSyDlGsLz8rGMZWjb2voOhW51U9557s7tsxM",authDomain:"todo-123e5.firebaseapp.com",databaseURL:"https://todo-123e5.firebaseio.com",projectId:"todo-123e5",storageBucket:"todo-123e5.appspot.com",messagingSenderId:"765910339424",appId:"1:765910339424:web:982ee8ff651f3492635805"}),pe.a.firestore().settings({timestampInSnapshots:!0});var be=pe.a,Ee=Object(N.e)(me,Object(N.d)(Object(N.a)(he.a.withExtraArgument({getFirestore:de.getFirestore,getFirebase:C.getFirebase})),Object(de.reduxFirestore)(be,{attachAuthIsReady:!0}))),fe={firebase:pe.a,config:be,dispatch:Ee.dispatch,createFirestoreInstance:de.createFirestoreInstance,sessions:"sessions"};s.a.render(r.a.createElement(b.a,{store:Ee},r.a.createElement(C.ReactReduxFirebaseProvider,fe,r.a.createElement(B.a,null,r.a.createElement(re,null)))),document.getElementById("root"))},42:function(e,t,a){e.exports={add:"NewTask_add__15Jp3",text:"NewTask_text__2ximj",checkbox:"NewTask_checkbox__2nmBd"}},44:function(e,t,a){e.exports={input:"LoginForm_input__3w58C",login:"LoginForm_login__2AHnZ",h3:"LoginForm_h3__1hYgn",a:"LoginForm_a__3CtLx",red:"LoginForm_red__vFcCY"}},57:function(e,t,a){e.exports={input:"Registr_input__1d8ba",login:"Registr_login__3M_zU",h3:"Registr_h3__3V1pH",red:"Registr_red__1Otti"}},70:function(e,t,a){e.exports={subtask:"Subtask_subtask__1_klw",content:"Subtask_content__2eMi8",check:"Subtask_check__1Pnnh",date:"Subtask_date__3Utrb"}},96:function(e,t,a){e.exports={x:"ButDelete_x__3El6Y"}}},[[222,1,2]]]);
//# sourceMappingURL=main.1ad5ba41.chunk.js.map